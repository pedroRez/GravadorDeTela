<Window x:Class="LoloRecorder.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="LoloRecorder" Height="350" Width="525"
        WindowStyle="None" ResizeMode="NoResize"
        AllowsTransparency="True" Background="Transparent">
    <Window.Resources>
        <ResourceDictionary>
            <!-- Global button style -->
            <Style TargetType="ButtonBase">
                <Setter Property="Background" Value="{StaticResource Acento}"/>
                <Setter Property="Foreground" Value="White"/>
                <Setter Property="Padding" Value="10,5"/>
                <Setter Property="Margin" Value="0,5"/>
            </Style>

            <!-- Toggle button style for Record/Stop -->
            <Style x:Key="ToggleRecordButtonStyle" TargetType="ToggleButton" BasedOn="{StaticResource {x:Type ButtonBase}}">
                <Setter Property="Content" Value="Gravar"/>
                <Style.Triggers>
                    <Trigger Property="IsChecked" Value="True">
                        <Setter Property="Content" Value="Parar"/>
                        <Setter Property="Background" Value="Red"/>
                    </Trigger>
                </Style.Triggers>
            </Style>
        </ResourceDictionary>
    </Window.Resources>
    <Border Background="{StaticResource Fundo}" CornerRadius="10">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="40"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- Custom top bar -->
            <Border Grid.Row="0" Background="{StaticResource Acento}" MouseDown="TopBar_MouseDown" CornerRadius="10,10,0,0">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <TextBlock Text="LoloRecorder" VerticalAlignment="Center" Margin="10,0" FontWeight="Bold"/>

                    <StackPanel Grid.Column="1" Orientation="Horizontal">
                        <Button x:Name="SettingsButton" Content="⚙" Width="40" Click="SettingsButton_Click"/>
                        <Button x:Name="MinimizeButton" Content="-" Width="40" Click="MinimizeButton_Click"/>
                        <Button x:Name="CloseButton" Content="X" Width="40" Click="CloseButton_Click"/>
                    </StackPanel>
                </Grid>
            </Border>

            <StackPanel Grid.Row="1" HorizontalAlignment="Center" VerticalAlignment="Center">
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                    <ComboBox x:Name="ModeCombo" Width="100" Margin="0,0,5,0">
                        <ComboBoxItem Content="Tela inteira" IsSelected="True"/>
                        <ComboBoxItem Content="Janela"/>
                        <ComboBoxItem Content="Região"/>
                    </ComboBox>
                    <ToggleButton x:Name="RecordToggle"
                                  Style="{StaticResource ToggleRecordButtonStyle}"
                                  Checked="RecordToggle_Checked"
                                  Unchecked="RecordToggle_Unchecked"/>
                </StackPanel>
                <ComboBox x:Name="AudioDevicesCombo" Margin="0,5"/>
                <ToggleButton x:Name="WebcamToggle" Content="Webcam" Margin="0,5" Checked="WebcamToggle_Checked" Unchecked="WebcamToggle_Unchecked"/>
                <ComboBox x:Name="WebcamDevicesCombo" Margin="0,5" Visibility="Collapsed" DisplayMemberPath="FriendlyName" SelectedValuePath="DeviceName"/>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,5">
                    <CheckBox x:Name="SplitCheck" Content="Dividir a cada (s):" Checked="SplitCheck_Checked" Unchecked="SplitCheck_Unchecked"/>
                    <TextBox x:Name="SplitSecondsBox" Width="60" Margin="5,0" IsEnabled="False"/>
                </StackPanel>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,5">
                    <CheckBox x:Name="StopCheck" Content="Parar após (min):" Checked="StopCheck_Checked" Unchecked="StopCheck_Unchecked"/>
                    <TextBox x:Name="StopMinutesBox" Width="60" Margin="5,0" IsEnabled="False"/>
                </StackPanel>
                <Label x:Name="StatusLabel" Content="Parado" Foreground="{StaticResource Acento}" HorizontalAlignment="Center"/>
            </StackPanel>
        </Grid>
    </Border>
</Window>
